# 論理演算

いくつかの命題を組み合わせて、より複雑なことを表現することができる。そのような方法として、**論理演算**と呼ばれる操作を紹介しよう。

## 「かつ」（論理積）

命題 $p$ と命題 $q$ の**論理積** $p \wedge q$ を、以下のような真理値を持つ命題とする：

- $p$ と $q$ の両方が真のとき、$p \wedge q$ も真。
- そうでないとき、$p \wedge q$ は偽。

$p \wedge q$ は、「$p$ かつ $q$」のように読む。

論理演算を捉えるには、**真理値表**を使うと便利である。以下の表は、$p$ と $q$ の真理値の組み合わせに応じて、$p \wedge q$ の真理値がどうなるかを示している。例えば、$p$ が偽で $q$ が真のときは、3行目を見ると $p \wedge q$ が偽であることがわかる。

| $p$    | $q$    | $p \wedge q$ |
| ------ | ------ | ------------ |
| 真     | 真     | 真           |
| 真     | 偽     | 偽           |
| 偽     | 真     | 偽           |
| 偽     | 偽     | 偽           |

## 「または」（論理和）

命題 $p$ と命題 $q$ の**論理和** $p \vee q$ を、以下のような真理値を持つ命題とする：

- $p$ と $q$ のうち少なくともひとつが真のとき、$p \vee q$ は真。
- そうでないとき、$p \vee q$ は偽。

$p \vee q$ は、「$p$ または $q$」のように読む。$p \vee q$ の真理値表は、下の表のようになる。

| $p$    | $q$    | $p \vee q$ |
| ------ | ------ | ------------ |
| 真     | 真     | 真           |
| 真     | 偽     | 真           |
| 偽     | 真     | 真           |
| 偽     | 偽     | 偽           |

## 「～でない」（否定）

命題 $p$ の**否定**を、$\neg p$ と記す。これは、以下のような真理値を持つ命題である：

- $p$ が真のとき、$\neg p$ は偽。
- $p$ が偽のとき、$\neg p$ は真。

$\neg p$ は、「$p$ でない」のように読む。$\neg p$ の真理値表は、下の表のようになる。

| $p$    | $\neg p$     |
| ------ | ------------ |
| 真     | 偽           |
| 偽     | 真           |

## 「ならば」（論理包含）

命題 $p$ と命題 $q$ の**論理包含**を、$p \to q$と記す。これは、以下のような真理値を持つ命題である：

- 「$p$ が偽」または「$q$ が真」のとき、$p \to q$ は真。
- そうでないとき、$p \to q$ は偽。

$p \to q$ は、「$p$ ならば $q$」のように読む。論理包含に対して、命題 $p$ を**仮定**、 $q$ を**結論** と呼ぶこともある。$p \to q$ の真理値表は、下の表のようになる。

| $p$    | $q$    | $p \to q$ |
| ------ | ------ | ------------ |
| 真     | 真     | 真           |
| 真     | 偽     | 偽           |
| 偽     | 真     | 真           |
| 偽     | 偽     | 真           |

$p$ が偽のとき、$q$ の真偽によらず $p \to q$ は真の命題となることに注意しよう(こういうのをvacuous truthと呼ぶらしいです)。
このように定めることに違和感を持つ人もいると思うが、以下の例でみるように、数学の議論ではこうしておくと都合がいい。

!!! example "例"
    「$4$ の倍数は偶数である」という命題を考えよう。この命題は、より詳しく書いてみると次のようになる：

    - どんな整数 $n$ に対しても、$n$ が $4$ の倍数ならば $n$ は偶数である。

    これはすなわち、以下の(無限個の)命題が真であるという意味である：

    - $\vdots$
    - $-1$ が $4$ の倍数ならば $-1$ は偶数である。
    - $0$ が $4$ の倍数ならば $0$ は偶数である。
    - $1$ が $4$ の倍数ならば $1$ は偶数である。
    - $2$ が $4$ の倍数ならば $2$ は偶数である。
    - $3$ が $4$ の倍数ならば $3$ は偶数である。
    - $4$ が $4$ の倍数ならば $4$ は偶数である。
    - $\vdots$ 

    それぞれの命題の真偽を整理すると、以下の表のようになる：

    | $n$    | $n$ は $4$ の倍数    | $n$ は偶数 |
    | ------ | ------ | ------------ |
    | $\vdots$     | $\vdots$     |  $\vdots$          |
    | $-1$    | 偽     | 偽           |
    | $0$     | 真     | 真           |
    | $1$     | 偽     | 偽           |
    | $2$     | 偽     | 真           |
    | $3$     | 偽     | 偽           |
    | $4$     | 真     | 真           |
    | $\vdots$     | $\vdots$     |  $\vdots$          |

    したがって、すべての $n$ に対して「$n$ が $4$ の倍数ならば $n$ は偶数」が成り立つためには、以下の3つの $p$ , $q$ の真偽の組み合わせについて、$p \to q$ が真でなければならない：
 
    - $p$が真、 $q$ が真
    - $p$が偽、 $q$ が真
    - $p$が偽、 $q$ が偽

    このように、仮定 $p$ が偽のときに「$p \to q$」が真であるとしておくと都合がいい。

## 命題変数、命題の同値性

$p, q, r, \ldots$ を命題とする。これらの命題と論理演算($\wedge$, $\vee$, $\neg$, $\to$ など)を組み合わせて、複雑な命題を作ることができる。例えば、
$$ (p \wedge q) \to  (r \vee \neg p) $$
のようなものを作ることができる。(↑この式には特に深い意味はない)

このとき、式全体の真理値は、式に現れる命題(ここでは $p, q, r$)の真理値のみによって決まり、命題 $p, q, r$ の具体的な内容は関係しない。そこで、$p, q, r$ を「真」または「偽」の2通りの値をとる変数だと思うことができる。それぞれの命題をこのようにみなしたものを、**命題変数**と呼ぶことにする。

命題変数 $p_1,p_2, \ldots, p_n$ からなる式 $P$, $Q$ を考える。$P$と$Q$が**同値**な式であるとは、それぞれの命題変数にどのような真理値を割り当てたとしても、$P$と$Q$の真偽が一致することをいう。式 $P$ と $Q$ が同値なとき、$P \equiv Q$ と書く。

!!! example "例"
    同値な式の例を挙げる。

    1. 交換法則： $p \wedge q \equiv q \wedge p$, $p \vee q \equiv q \vee p$
    2. 結合法則： $(p \wedge q) \wedge r \equiv p \wedge (q \wedge r)$, $(p \vee q) \vee r \equiv p \vee (q \vee r)$
    3. 分配法則： $p \vee (q \wedge r) \equiv (p \vee q) \wedge (p \vee r)$, $p \wedge (q \vee r) \equiv (p \wedge q) \vee (p \wedge r)$
    4. de Morganの法則：$\neg (p \wedge q) = (\neg p) \vee (\neg q)$, $\neg (p \vee q) = (\neg p) \wedge (\neg q)$

式が同値であることを確かめる方法はいくつかあるが、もっとも原始的な方法としては、その式に現れる命題変数 $p$, $q$, ... が取りうるすべての真理値のパターンに対して、式全体の真理値が一致数ることを確かめればよい。


!!! problem "問題1"
    命題変数 $p$ と $q$ の**排他的論理和** $p \oplus q$ を、以下のように定める：
    
    - $p$ と $q$ のうちどちらか一方が真で他方が偽のとき、$p \oplus q$ は真。
    - $p$ と $q$ の真理値が一致するとき、$p \oplus q$ は偽。

    (1) 命題変数 $p$, $q$, $r$ に対して、$(p \oplus q) \oplus r = p \oplus (q \oplus r)$ が成り立つことを示してください。

    (2) $\vee$, $\wedge$, $\neg$ を用いて、$p \oplus q$ と同値な式を作ってください。(すべてを使わなくてもok)

!!! problem "問題2"
    命題変数 $p$ と $q$ の**否定論理積** $p \overline{\wedge} q$ を、以下のように定める：
    - $p$ と $q$ のうち少なくとも一方が偽のとき、$p \overline{\wedge} q$ は真。
    - $p$ と $q$ の両方が真のとき、$p\overline{\wedge} q$ は偽。

    (1) $\vee$, $\wedge$, $\neg$ を用いて、$p \overline{\wedge} q$ と同値な式を作ってください。(すべてを使わなくてもok)

    (2) $\overline{\wedge}$ のみを用いて、$p \vee q$, $p \wedge q$, $\neg p$ と同値な式を作ってください。

    (この演算はNANDと呼ばれることが最も多いと思われる。以下はWikipedia情報：この論理演算はSheffer strokeとも呼ばれていて、$\uparrow$と表すことがあるらしい。ここでは「$\wedge$」の否定のつもりで「$\overline{\wedge}$」という記号にした。一応英語版Wikipediaには「$\overline{\wedge}$」も載っているので、完全にここだけの記法ではない模様。) 
